{% extends 'base.html' %}
{% block head %}
    <link rel="stylesheet" href="/static/daily_timetable.css">
{% endblock %}

{% block title %}
    Daily Timetable | Perch
{% endblock %}

{% block style %}

    .tick {
    font-size: 1.5em;
    white-space: nowrap;
    font-family: arial, sans-serif;
    }

    .tick-flip, .tick-text-inline {
    font-size: 2.5em;
    }

    .tick-label {
    margin-top: 0.7em;
    font-size: 1em;
    }

    .tick-char {
    width: 1.5em;
    }

    .tick-text-inline {
    display: inline-block;
    text-align: center;
    min-width: 1em;
    }

    .tick-text-inline + .tick-text-inline {
    margin-left: -.325em;
    }

    .tick-group {
    margin: 0 .5em;
    text-align: center;
    }



    .tick-text-inline {
    color: #595d63 !important;
    }

    .tick-label {
    color: #595d63 !important;
    }

    .tick-flip-panel {
    color: #fff !important;
    }

    .tick-flip {
    font-family: "Open Sans", sans-serif !important;
    }

    .tick-flip-panel-text-wrapper {
    line-height: 1.45 !important;
    }

    .tick-flip-panel {
    background-color: #3c3e3c !important;
    }

    .tick-flip {
    border-radius: 0.12em !important;
    }

    .next-class {
        text-align: center;
        margin-top: 1em;
    }

{% endblock %}

{% block main_content %}
    <div class="tick" data-did-init="handleTickInit" data-credits="false">
        <div data-repeat="true" data-layout="horizontal fit" data-transform="preset(d, h, m, s) -&gt; delay">
            <div class="tick-group">
                <div data-key="value" data-repeat="true" data-transform="pad(00) -&gt; split -&gt; delay">
                    <span data-view="flip"></span>
                </div>

                <span data-key="label" data-view="text" class="tick-label"></span>
            </div>
        </div>
    </div>

    <div class="next-class">
        <p>until</p>
        <h3>Mathematics Extension 2</h3>
    </div>
{% endblock %}

{% block script_link %}
    <script>
        var dailyBells = {{ daily_bells | tojson | safe }};
        var roomVariations = {{ room_variations | tojson | safe }};
        var teacherVariations = {{ teacher_variations | tojson | safe }};
        var studentTimetable = {{ student_timetable | tojson | safe }};
        var bellData = {{ bell_data | tojson | safe }};

        const menuButton = document.querySelector('.menu-button');
        const menuContainer = document.querySelector('.menu-container');

        menuButton.addEventListener('click', () => {
            menuContainer.classList.toggle('active');
        });


        function handleTickInit(tick) {
            // uncomment to set labels to different language
            /*
    var locale = {
        YEAR_PLURAL: 'Jaren',
        YEAR_SINGULAR: 'Jaar',
        MONTH_PLURAL: 'Maanden',
        MONTH_SINGULAR: 'Maand',
        WEEK_PLURAL: 'Weken',
        WEEK_SINGULAR: 'Week',
        DAY_PLURAL: 'Dagen',
        DAY_SINGULAR: 'Dag',
        HOUR_PLURAL: 'Uren',
        HOUR_SINGULAR: 'Uur',
        MINUTE_PLURAL: 'Minuten',
        MINUTE_SINGULAR: 'Minuut',
        SECOND_PLURAL: 'Seconden',
        SECOND_SINGULAR: 'Seconde',
        MILLISECOND_PLURAL: 'Milliseconden',
        MILLISECOND_SINGULAR: 'Milliseconde'
    };

    for (var key in locale) {
        if (!locale.hasOwnProperty(key)) { continue; }
        tick.setConstant(key, locale[key]);
    }
    */

            // format of due date is ISO8601
            // https://en.wikipedia.org/wiki/ISO_8601

            // '2018-01-31T12:00:00'        to count down to the 31st of January 2018 at 12 o'clock
            // '2019'                       to count down to 2019
            // '2018-01-15T10:00:00+01:00'  to count down to the 15th of January 2018 at 10 o'clock in timezone GMT+1

            var nextYear = new Date().getFullYear() + 1;

            // create the countdown counter
            var counter = Tick.count.down(
                nextYear + "-01-01T00:00:00+01:00"
            );

            counter.onupdate = function (value) {
                tick.value = value;
            };

            counter.onended = function () {
                // redirect, uncomment the next line
                // window.location = 'my-location.html'
                // hide counter, uncomment the next line
                // tick.root.style.display = 'none';
                // show message, uncomment the next line
                // document.querySelector('.tick-onended-message').style.display = '';
            };
        }

    </script>
    <script src="/static/javascript/daily_timetable.js"></script>
{% endblock %}
